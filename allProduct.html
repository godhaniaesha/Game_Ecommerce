<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Games Store</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/s_style.css" />
    <link rel="stylesheet" href="./css/z_style.css" />
    <style>
        .offcanvas {
            --bs-offcanvas-width: 350px;
            background-color: #1a1a1a;
        }

        @media (max-width: 991px) {
            .a_header_container {
                padding: 0px 8% !important;
            }
        }

        @media (max-width:375px) {
            .offcanvas {
                --bs-offcanvas-width: 300px;
            }
        }

        @media (max-width:320px) {
            .offcanvas {
                --bs-offcanvas-width: 280px;
            }
        }
    </style>
</head>

<body>
    <!-- Hero Section Start -->
    <div class="Z_cards_hero">
        <div class="Z_cart_hero-overlay">
            <h1 class="Z_about_title">Profile</h1>
        </div>
    </div>

    <div class="s_body_img">
        <div class="py-5">
            <h2 class="text-center" style="color: #ad9d79;">Games Store</h2>
        </div>
        <div class="a_header_container">
            <div class="row">
                <div class="col-xl-3 col-lg-4 d-none d-lg-block">
                    <div class=" p-4">
                        <div class="accordion s_accordion" id="accordionExample">
                            <!-- Price Filter -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        <h5> Price</h5>
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show"
                                    data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <ul class="ps-0">
                                            <li><input type="checkbox" name="price" value="0-99"> $0 - $99</li>
                                            <li><input type="checkbox" name="price" value="100-199"> $100 - $199</li>
                                            <li><input type="checkbox" name="price" value="200-299"> $200 - $299</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Category Filter -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        <h5>Category</h5>
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse"
                                    data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <ul class="ps-0">
                                            <li><input type="checkbox" name="category" value="Action"> Action</li>
                                            <li><input type="checkbox" name="category" value="Adventure">Adventure</li>
                                            <li><input type="checkbox" name="category" value="Puzzle">Puzzle</li>
                                            <li><input type="checkbox" name="category" value="Racing">Racing</li>
                                            <li><input type="checkbox" name="category" value="Shooter">Shooter</li>
                                            <li><input type="checkbox" name="category" value="Sports">Sports</li>
                                            <li><input type="checkbox" name="category" value="Strategy">Strategy</li>
                                            <li><input type="checkbox" name="category" value="Horror">Horror</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="offcanvas offcanvas-start d-lg-none d_offcan_width" tabindex="-1" id="filterOffcanvas"
                    aria-labelledby="filterOffcanvasLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title text-white" id="filterOffcanvasLabel">Filters</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="accordion s_accordion" id="accordionExampleMobile">
                            <!-- Price Filter -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseMobileOne" aria-expanded="true"
                                        aria-controls="collapseMobileOne">
                                        <h5 class="mb-0"> Price</h5>
                                    </button>
                                </h2>
                                <div id="collapseMobileOne" class="accordion-collapse collapse show"
                                    data-bs-parent="#accordionExampleMobile">
                                    <div class="accordion-body">
                                        <ul class="ps-0">
                                            <li><input type="checkbox" name="price" value="0-99"> $0 - $99</li>
                                            <li><input type="checkbox" name="price" value="100-199"> $100 - $199</li>
                                            <li><input type="checkbox" name="price" value="200-299"> $200 - $299</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Category Filter -->
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseMobileTwo" aria-expanded="false"
                                        aria-controls="collapseMobileTwo">
                                        <h5 class="mb-0">Category</h5>
                                    </button>
                                </h2>
                                <div id="collapseMobileTwo" class="accordion-collapse collapse"
                                    data-bs-parent="#accordionExampleMobile">
                                    <div class="accordion-body">
                                        <ul class="ps-0">
                                            <li><input type="checkbox" name="category" value="Action"> Action</li>
                                            <li><input type="checkbox" name="category" value="Adventure">Adventure</li>
                                            <li><input type="checkbox" name="category" value="Puzzle">Puzzle</li>
                                            <li><input type="checkbox" name="category" value="Racing">Racing</li>
                                            <li><input type="checkbox" name="category" value="Shooter">Shooter</li>
                                            <li><input type="checkbox" name="category" value="Sports">Sports</li>
                                            <li><input type="checkbox" name="category" value="Strategy">Strategy</li>
                                            <li><input type="checkbox" name="category" value="Horror">Horror</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- Product Display Area -->
                <div class="d-block d-lg-none">
                    <button class="btn border text-white" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#filterOffcanvas" aria-controls="filterOffcanvas">Filters
                    </button>
                </div>
                <div class="col-xl-9 col-lg-8">
                    <div class="d-flex justify-content-between align-items-center mb-4 my-3 my-md-0">
                        <div class="d-flex d-sm-block">
                            <i id="gridView" class="fa-solid fa-grip active mx-2 text-white"></i>
                            <i id="listView" class="fa-solid fa-list me-2 text-white "></i>
                        </div>
                        <div class="dropdown s_sort-dropdown">
                            <button class="btn btn-dark dropdown-toggle" type="button" id="sortDropdownBtn"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Sort By: <span id="selectedSort" style="color: #ad9d79;">Featured</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="sortDropdownBtn">
                                <li><a class="dropdown-item active" href="#" data-value="featured">Featured</a></li>
                                <li><a class="dropdown-item" href="#" data-value="name-asc">Alphabetically, A-Z</a></li>
                                <li><a class="dropdown-item" href="#" data-value="name-desc">Alphabetically, Z-A</a>
                                </li>
                                <li><a class="dropdown-item" href="#" data-value="price-asc">Price, low to high</a></li>
                                <li><a class="dropdown-item" href="#" data-value="price-desc">Price, high to low</a>
                                </li>
                            </ul>

                        </div>
                    </div>

                    <!-- Products Count -->
                    <div class="mb-3">
                        <span id="productCount" class="text-muted">Showing 6 products</span>
                    </div>

                    <!-- Grid View -->
                    <div id="gridContainer" class="row"></div>

                    <!-- List View -->
                    <div id="listContainer" class="d-none"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const cardsData = [
            { id: 1, title: "The Elder Scrolls V Skyrim", price: "$144.00", image: "/images/card_img1.png", description: "Epic fantasy adventure game", category: "Action" },
            { id: 2, title: "Grand Theft Auto V", price: "$89.99", image: "/images/card_img2.png", description: "Open world action adventure", category: "Horror" },
            { id: 3, title: "Call of Duty: Modern Warfare", price: "$129.00", image: "/images/card_img3.png", description: "First-person shooter game", category: "Strategy" },
            { id: 4, title: "FIFA 24", price: "$99.99", image: "/images/card_img4.png", description: "Football simulation game", category: "Sports" },
            { id: 5, title: "Assassin's Creed Valhalla", price: "$79.99", image: "/images/card_img5.png", description: "Viking action RPG adventure", category: "Action" },
            { id: 6, title: "Cyberpunk 2077", price: "$159.99", image: "/images/card_img6.png", description: "Futuristic RPG adventure", category: "Shooter" }
        ];

        const gridBtn = document.getElementById('gridView');
        const listBtn = document.getElementById('listView');
        const gridContainer = document.getElementById('gridContainer');
        const listContainer = document.getElementById('listContainer');

        function createGridCard(cardData) {
            return `
            <div class="col-lg-4 col-md-6 col-sm-6 col-12 mb-4 d-flex justify-content-center">
              <div class="game-card position-relative">
                <img src="${cardData.image}" alt="${cardData.title}" class="card-img-top" />
                <div class="position-absolute card-content">
                  <div class="icons d-flex gap-2 mb-3">
                    <i class="fa-brands fa-apple"></i>
                    <i class="fa-brands fa-windows"></i>
                  </div>
                  <h3>${cardData.title}</h3>
                  <h3 class="mb-0">${cardData.price}</h3>
                </div>
                <div class="card-actions d-flex align-items-center gap-3">
                  <div class="d_main_button">
                    <button class="custom-cart-btn" onclick="addToCart(${cardData.id})">ADD TO CART</button>
                    <div class="d_border"></div>
                  </div>
                  <i class="fa-regular fa-heart text-white" onclick="toggleWishlist(${cardData.id})"></i>
                  <i class="fa-solid fa-ellipsis text-white"></i>
                </div>
              </div>
            </div>
          `;
        }

        function createListCard(cardData) {
            return `
        <div class="card mb-3 list-card">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="${cardData.image}" class="img-fluid rounded-start h-100" alt="${cardData.title}">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">${cardData.title}</h5>
                <p class="card-text fw-bold">${cardData.price}</p>
                <p class="card-text"><small class="text-muted">${cardData.description}</small></p>
                <div class="d-flex align-items-center">
                  <button class="btn btn-sm s_cart_btn" onclick="addToCart(${cardData.id})">ADD TO CART</button>
                  <i class="fa-regular fa-heart fs-5 mx-2" onclick="toggleWishlist(${cardData.id})"></i>
                  <i class="fa-solid fa-eye fs-6 mx-2" onclick="viewDetails(${cardData.id})"></i>
                </div>
              </div>
            </div>
          </div>
        </div>`;
        }

        function addToCart(id) {
            const card = cardsData.find(c => c.id === id);
            alert(`Added "${card.title}" to cart!`);
        }

        function toggleWishlist(id) {
            const card = cardsData.find(c => c.id === id);
            alert(`Added "${card.title}" to wishlist!`);
        }

        function viewDetails(id) {
            const card = cardsData.find(c => c.id === id);
            alert(`Viewing details for "${card.title}"`);
        }

        gridBtn.addEventListener('click', () => {
            gridContainer.classList.remove('d-none');
            listContainer.classList.add('d-none');
            gridBtn.classList.add('active');
            listBtn.classList.remove('active');
        });

        listBtn.addEventListener('click', () => {
            gridContainer.classList.add('d-none');
            listContainer.classList.remove('d-none');
            listBtn.classList.add('active');
            gridBtn.classList.remove('active');
        });

        function sortCards(cards, sortValue) {
            return [...cards].sort((a, b) => {
                const priceA = parseFloat(a.price.replace('$', ''));
                const priceB = parseFloat(b.price.replace('$', ''));
                const nameA = a.title.toLowerCase();
                const nameB = b.title.toLowerCase();

                switch (sortValue) {
                    case 'name-asc':
                        return nameA.localeCompare(nameB);
                    case 'name-desc':
                        return nameB.localeCompare(nameA);
                    case 'price-asc':
                        return priceA - priceB;
                    case 'price-desc':
                        return priceB - priceA;
                    default:
                        return 0;
                }
            });
        }
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', e => {
                e.preventDefault();

                // Remove active class from all
                document.querySelectorAll('.dropdown-item').forEach(i => i.classList.remove('active'));

                // Add active to selected
                item.classList.add('active');

                // Update visible text
                const label = item.textContent;
                const value = item.getAttribute('data-value');
                document.getElementById('selectedSort').textContent = label;

                // Set value manually to trigger sorting
                filterCards(value);
            });
        });
        function filterCards() {
            const selectedPrices = Array.from(document.querySelectorAll('input[name="price"]:checked')).map(i => i.value);
            const selectedCategories = Array.from(document.querySelectorAll('input[name="category"]:checked')).map(i => i.value);
            const sortValue = document.querySelector('.dropdown-item.active')?.dataset.value || "featured";


            const filtered = cardsData.filter(card => {
                const price = parseFloat(card.price.replace('$', ''));
                const priceMatch = selectedPrices.length === 0 || selectedPrices.some(range => {
                    const [min, max] = range.split('-').map(Number);
                    return price >= min && price <= max;
                });

                const categoryMatch = selectedCategories.length === 0 || selectedCategories.includes(card.category);

                return priceMatch && categoryMatch;
            });

            const sorted = sortCards(filtered, sortValue);
            gridContainer.innerHTML = sorted.map(createGridCard).join('');
            listContainer.innerHTML = sorted.map(createListCard).join('');
            document.getElementById('productCount').innerText = `Showing ${sorted.length} products`;
        }

        // Initialize
        filterCards();

        // Sort dropdown event
         document.getElementById('sortSelect').addEventListener('change', filterCards);

        // Checkbox filter event binding
        const allFilters = document.querySelectorAll('input[name="price"], input[name="category"]');
        allFilters.forEach(input => {
            input.addEventListener('change', filterCards);
        });

      
    </script>
</body>

</html>